{"version":3,"file":"2-form.js","sources":["../src/js/2-form.js"],"sourcesContent":["const STORAGE_KEY = 'feedback-form-state';\n\nconst formData = {\n  email: '',\n  message: '',\n};\n\nconst form = document.querySelector('.feedback-form');\n\nform.addEventListener('submit', submit);\nform.addEventListener('input', saveValue);\n\nreturnValue();\n\nfunction submit(event) {\n  event.preventDefault();\n  const email = event.currentTarget.elements.email;\n  const message = event.currentTarget.elements.message;\n\n  if (!email.value || !message.value) {\n    alert('Fill please all fields');\n  } else {\n    console.log(formData);\n    form.reset();\n    localStorage.removeItem(STORAGE_KEY);\n  }\n}\n\nfunction saveValue(event) {\n  event.preventDefault();\n  const { name, value } = event.target;\n  formData[name] = value;\n\n  localStorage.setItem(STORAGE_KEY, JSON.stringify(formData));\n}\n\nfunction returnValue() {\n  const saveMessage = localStorage.getItem(STORAGE_KEY);\n\n  if (saveMessage) {\n    const parsedMessage = JSON.parse(saveMessage);\n\n    formData.email = parsedMessage.email ?? '';\n    formData.message = parsedMessage.message ?? '';\n\n    form.elements.email.value = formData.email;\n    form.elements.message.value = formData.message.trim();\n  }\n}\n"],"names":["STORAGE_KEY","formData","form","submit","saveValue","returnValue","event","email","message","name","value","saveMessage","parsedMessage"],"mappings":"oDAAA,MAAMA,EAAc,sBAEdC,EAAW,CACf,MAAO,GACP,QAAS,EACX,EAEMC,EAAO,SAAS,cAAc,gBAAgB,EAEpDA,EAAK,iBAAiB,SAAUC,CAAM,EACtCD,EAAK,iBAAiB,QAASE,CAAS,EAExCC,IAEA,SAASF,EAAOG,EAAO,CACrBA,EAAM,eAAc,EACpB,MAAMC,EAAQD,EAAM,cAAc,SAAS,MACrCE,EAAUF,EAAM,cAAc,SAAS,QAEzC,CAACC,EAAM,OAAS,CAACC,EAAQ,MAC3B,MAAM,wBAAwB,GAE9B,QAAQ,IAAIP,CAAQ,EACpBC,EAAK,MAAK,EACV,aAAa,WAAWF,CAAW,EAEvC,CAEA,SAASI,EAAUE,EAAO,CACxBA,EAAM,eAAc,EACpB,KAAM,CAAE,KAAAG,EAAM,MAAAC,GAAUJ,EAAM,OAC9BL,EAASQ,CAAI,EAAIC,EAEjB,aAAa,QAAQV,EAAa,KAAK,UAAUC,CAAQ,CAAC,CAC5D,CAEA,SAASI,GAAc,CACrB,MAAMM,EAAc,aAAa,QAAQX,CAAW,EAEpD,GAAIW,EAAa,CACf,MAAMC,EAAgB,KAAK,MAAMD,CAAW,EAE5CV,EAAS,MAAQW,EAAc,OAAS,GACxCX,EAAS,QAAUW,EAAc,SAAW,GAE5CV,EAAK,SAAS,MAAM,MAAQD,EAAS,MACrCC,EAAK,SAAS,QAAQ,MAAQD,EAAS,QAAQ,MAChD,CACH"}